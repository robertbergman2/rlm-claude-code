{
  "hooks": {
    "SessionStart": [
      {
        "matcher": ".*",
        "hooks": [
          {
            "type": "command",
            "command": "python3 ${CLAUDE_PLUGIN_ROOT}/scripts/init_rlm.py",
            "timeout": 5000,
            "description": "Initialize RLM environment and load config"
          }
        ]
      }
    ],
    "UserPromptSubmit": [
      {
        "matcher": ".*",
        "hooks": [
          {
            "type": "command",
            "command": "python3 ${CLAUDE_PLUGIN_ROOT}/scripts/check_complexity.py \"$PROMPT\"",
            "timeout": 3000,
            "description": "Check if RLM should activate based on task complexity"
          }
        ]
      }
    ],
    "PreToolUse": [
      {
        "matcher": ".*",
        "hooks": [
          {
            "type": "command",
            "command": "python3 ${CLAUDE_PLUGIN_ROOT}/scripts/sync_context.py",
            "timeout": 2000,
            "description": "Sync tool context with RLM state"
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": ".*",
        "hooks": [
          {
            "type": "command",
            "command": "python3 ${CLAUDE_PLUGIN_ROOT}/scripts/capture_output.py",
            "timeout": 2000,
            "description": "Capture tool output for RLM context"
          }
        ]
      }
    ],
    "PreCompact": [
      {
        "matcher": ".*",
        "hooks": [
          {
            "type": "command",
            "command": "python3 ${CLAUDE_PLUGIN_ROOT}/scripts/externalize_context.py",
            "timeout": 10000,
            "description": "Externalize context before compaction"
          }
        ]
      }
    ],
    "Stop": [
      {
        "matcher": ".*",
        "hooks": [
          {
            "type": "command",
            "command": "python3 ${CLAUDE_PLUGIN_ROOT}/scripts/save_trajectory.py",
            "timeout": 5000,
            "description": "Save trajectory on session end"
          }
        ]
      }
    ]
  }
}
